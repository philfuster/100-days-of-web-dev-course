<%- include('includes/head.ejs', { title: 'Blog Post Administration' }) %>
<link rel="stylesheet" href="/styles/auth.css">
<link rel="stylesheet" href="/styles/forms.css">
<link rel="stylesheet" href="/styles/admin.css">
</head>
  <body>
    <%- include('includes/header.ejs') %>
    <main>
      <h1>Administrate Blog Posts</h1>
      <section>
        <h2>Create a New Post</h2>
        <%- include('includes/post-form', {
          submitUrl: `/posts`,
          hasError: inputData.hasError,
          errorMessage: inputData.errorMessage,
          title: inputData.title,
          content: inputData.content
        }) %>
      </section>
      <section>
        <h2>All Blog Posts</h2>
        <% if (posts == null || posts.length == 0) { %>
          <p>Could not find any posts. You need to first create some!</p>
        <% } else { %>
          <% for(const post of posts) { %>
            <%- include("includes/post-item.ejs", { post: post }) %>
          <% } %>
        <% } %>
      </section>
    </main>
  </body>
</html>
